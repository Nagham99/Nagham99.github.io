// TYPEWRITER EFFECT
const words = ["Predictive ML Models.", "Data Pipelines.", "Interactive Dashboards.", "AI-Driven Insights."];
let i = 0, j = 0, currentWord = "", isDeleting = false;

function type() {
    currentWord = words[i];
    if (isDeleting) {
        document.getElementById("typewriter").textContent = currentWord.substring(0, j - 1);
        j--;
        if (j == 0) { isDeleting = false; i = (i + 1) % words.length; }
    } else {
        document.getElementById("typewriter").textContent = currentWord.substring(0, j + 1);
        j++;
        if (j == currentWord.length) { isDeleting = true; setTimeout(type, 2000); return; }
    }
    setTimeout(type, isDeleting ? 50 : 100);
}

// GITHUB REPO LOADER
const featuredRepos = [
    'Airbnb-price-category-prediction',
    'Reddit-Fake-Post-Detection-by-Looking-Only-at-the-Title-',
    'Cookies-Sales-Dashboard-PowerBI',
    'Sales-Dashboard-Excel',
    'Speed-Dating-Match-Prediction'
];

async function fetchRepos() {
    const container = document.getElementById('project-grid');
    for (const repo of featuredRepos) {
        try {
            const res = await fetch(`https://api.github.com/repos/Nagham99/${repo}`);
            const data = await res.json();
            const card = document.createElement('div');
            card.className = 'project-card';
            card.innerHTML = `
                <h4>${data.name.replace(/-/g, ' ')}</h4>
                <p style="font-size: 0.9rem; color: #8892b0;">${data.description || 'Professional data solution.'}</p>
                <a href="${data.html_url}" target="_blank" class="project-link">View Repository â†’</a>
            `;
            container.appendChild(card);
        } catch (e) { console.error(e); }
    }
}

document.addEventListener("DOMContentLoaded", () => {
    type();
    fetchRepos();
});
